{% extends 'layout.html.twig' %}

{% block title %}Article index{% endblock %}

{% block content %}
    <h1 class="mt-2 text-center">Liste des article {{ pageTitle }}</h1>
    {% if is_granted('ROLE_AUTHOR') %}
        <div class="text-right MB-2">
            <a href="{{ path('article-new') }}" class="btn btn-danger">
                Nouvel Article
            </a>
        </div>
    {% endif %}

    <table class="table table-striped text-center">
        <thead>
        <tr>
            <th>Titre</th>
            <th>Author</th>
            <th>Commentaires</th>

        </tr>
        </thead>
        <tbody>
        {% for article in articleList %}
            <tr>
                <td>
                    <a href="{{ path('article-details', {'id': article.id}) }}">
                        {{ article.title }}
                    </a>


                <td>{{ article.author.fullName }}</td>
                <td>{{ article.comments | length }}</td>

            </tr>
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}

{% block aside %}

    {% include '_aside.html.twig' %}

{% endblock %}
